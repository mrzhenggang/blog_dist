<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PETSc ç¼–è¯‘å®‰è£…æ•™ç¨‹ | Mr.ZhengGang&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/mrzhenggang/CDN@master/favicon/favicon.ico">
    <meta name="description" content="è¶…çº§è®¡ç®—æŠ€æœ¯åšå®¢,ç®€æ´è‡³ä¸Š,ä¸“æ³¨è¶…çº§è®¡ç®—é¢†åŸŸå’Œé«˜æ€§èƒ½è®¡ç®—é¢†åŸŸçš„è®¡æ•°åˆ†äº«ã€‚HPC,è¶…ç®—,è½¯ä»¶,ä¸ªäººæŠ€æœ¯åšå®¢,é«˜æ€§èƒ½è®¡ç®—,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,ç”¨æˆ·æ‰‹å†Œç­‰æŠ€æœ¯æ–‡ç« ã€‚">
    <meta name="keywords" content="è®¡ç®—, nscc, super computer, HPC,è¶…ç®—,è½¯ä»¶,ä¸ªäººæŠ€æœ¯åšå®¢,é«˜æ€§èƒ½è®¡ç®—,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,ç”¨æˆ·æ‰‹å†Œ,Node,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.b4653bb3.css" as="style"><link rel="preload" href="/assets/js/app.add2f138.js" as="script"><link rel="preload" href="/assets/js/2.050df857.js" as="script"><link rel="preload" href="/assets/js/27.f24b3b99.js" as="script"><link rel="prefetch" href="/assets/js/10.4f563e27.js"><link rel="prefetch" href="/assets/js/11.480586de.js"><link rel="prefetch" href="/assets/js/12.e22e9eab.js"><link rel="prefetch" href="/assets/js/13.83a78343.js"><link rel="prefetch" href="/assets/js/14.a17f89a1.js"><link rel="prefetch" href="/assets/js/15.124d4b5a.js"><link rel="prefetch" href="/assets/js/16.a4fae9e1.js"><link rel="prefetch" href="/assets/js/17.276df295.js"><link rel="prefetch" href="/assets/js/18.d578091e.js"><link rel="prefetch" href="/assets/js/19.4e644802.js"><link rel="prefetch" href="/assets/js/20.180d337c.js"><link rel="prefetch" href="/assets/js/21.b14c393e.js"><link rel="prefetch" href="/assets/js/22.c0683c68.js"><link rel="prefetch" href="/assets/js/23.ed3bde6c.js"><link rel="prefetch" href="/assets/js/24.dc3448e2.js"><link rel="prefetch" href="/assets/js/25.7c305f10.js"><link rel="prefetch" href="/assets/js/26.6ab58839.js"><link rel="prefetch" href="/assets/js/28.85484544.js"><link rel="prefetch" href="/assets/js/29.f8b2bbd5.js"><link rel="prefetch" href="/assets/js/3.8cbffe3c.js"><link rel="prefetch" href="/assets/js/30.ce85a3c4.js"><link rel="prefetch" href="/assets/js/31.cdd716c1.js"><link rel="prefetch" href="/assets/js/32.bbcca1bc.js"><link rel="prefetch" href="/assets/js/33.8bac1fef.js"><link rel="prefetch" href="/assets/js/34.599e4f53.js"><link rel="prefetch" href="/assets/js/35.a14d4bb2.js"><link rel="prefetch" href="/assets/js/36.63c33c89.js"><link rel="prefetch" href="/assets/js/37.05d4f70e.js"><link rel="prefetch" href="/assets/js/38.2f341e5e.js"><link rel="prefetch" href="/assets/js/39.f8c4e204.js"><link rel="prefetch" href="/assets/js/4.c86bbeae.js"><link rel="prefetch" href="/assets/js/40.5f7582cc.js"><link rel="prefetch" href="/assets/js/41.d63163b9.js"><link rel="prefetch" href="/assets/js/42.d46b6ee2.js"><link rel="prefetch" href="/assets/js/43.b2f0756a.js"><link rel="prefetch" href="/assets/js/44.e510407e.js"><link rel="prefetch" href="/assets/js/45.c332da8c.js"><link rel="prefetch" href="/assets/js/46.1fe90f32.js"><link rel="prefetch" href="/assets/js/47.41a09555.js"><link rel="prefetch" href="/assets/js/48.080ceb75.js"><link rel="prefetch" href="/assets/js/49.4b745884.js"><link rel="prefetch" href="/assets/js/5.33e4d81e.js"><link rel="prefetch" href="/assets/js/50.0b90abde.js"><link rel="prefetch" href="/assets/js/51.816cddef.js"><link rel="prefetch" href="/assets/js/52.9b27c849.js"><link rel="prefetch" href="/assets/js/53.ea9d414a.js"><link rel="prefetch" href="/assets/js/54.d5a9847f.js"><link rel="prefetch" href="/assets/js/55.35c1cf6f.js"><link rel="prefetch" href="/assets/js/56.9a51753b.js"><link rel="prefetch" href="/assets/js/57.0ab157ee.js"><link rel="prefetch" href="/assets/js/58.7e34c2bb.js"><link rel="prefetch" href="/assets/js/59.ebec0de9.js"><link rel="prefetch" href="/assets/js/6.a1bd869a.js"><link rel="prefetch" href="/assets/js/60.7b212ce1.js"><link rel="prefetch" href="/assets/js/61.674ce8ff.js"><link rel="prefetch" href="/assets/js/62.e7217b73.js"><link rel="prefetch" href="/assets/js/63.e2261a54.js"><link rel="prefetch" href="/assets/js/64.419a0991.js"><link rel="prefetch" href="/assets/js/65.ae6ae5cf.js"><link rel="prefetch" href="/assets/js/66.a8333903.js"><link rel="prefetch" href="/assets/js/67.80975534.js"><link rel="prefetch" href="/assets/js/68.8995cbb5.js"><link rel="prefetch" href="/assets/js/69.3c9d98f1.js"><link rel="prefetch" href="/assets/js/7.882e2efe.js"><link rel="prefetch" href="/assets/js/70.83dd0389.js"><link rel="prefetch" href="/assets/js/71.b1fcfe90.js"><link rel="prefetch" href="/assets/js/72.e7c104cf.js"><link rel="prefetch" href="/assets/js/73.837bf151.js"><link rel="prefetch" href="/assets/js/74.c7a7c2e0.js"><link rel="prefetch" href="/assets/js/75.75cef695.js"><link rel="prefetch" href="/assets/js/76.750688d3.js"><link rel="prefetch" href="/assets/js/77.e5e78cf8.js"><link rel="prefetch" href="/assets/js/78.3c235cca.js"><link rel="prefetch" href="/assets/js/79.c1f1e9a8.js"><link rel="prefetch" href="/assets/js/8.dd51ee28.js"><link rel="prefetch" href="/assets/js/80.b8cecebc.js"><link rel="prefetch" href="/assets/js/81.86eb3e16.js"><link rel="prefetch" href="/assets/js/82.924bd959.js"><link rel="prefetch" href="/assets/js/83.d4210915.js"><link rel="prefetch" href="/assets/js/84.6022215a.js"><link rel="prefetch" href="/assets/js/85.c72cbefe.js"><link rel="prefetch" href="/assets/js/86.6e43b42d.js"><link rel="prefetch" href="/assets/js/87.59732930.js"><link rel="prefetch" href="/assets/js/88.1c367238.js"><link rel="prefetch" href="/assets/js/89.858c97b6.js"><link rel="prefetch" href="/assets/js/9.9556caf0.js"><link rel="prefetch" href="/assets/js/90.1b46aeda.js"><link rel="prefetch" href="/assets/js/91.9e848a48.js"><link rel="prefetch" href="/assets/js/92.3b46e2a0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b4653bb3.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/mrzhenggang/CDN@master/avatar/avatar.png" alt="Mr.ZhengGang's blog" class="logo"> <span class="site-name can-hide">Mr.ZhengGang's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç”¨æˆ·æ‰‹å†Œ" class="dropdown-title"><!----> <span class="title" style="display:;">ç”¨æˆ·æ‰‹å†Œ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/user-manual/th1a/" class="nav-link">å¤©æ²³ä¸€å·</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è½¯ä»¶ä¸­å¿ƒ" class="dropdown-title"><a href="/software/" class="link-title">è½¯ä»¶ä¸­å¿ƒ</a> <span class="title" style="display:none;">è½¯ä»¶ä¸­å¿ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/the-most-basic-introduction-to-compilation/" class="nav-link">01.ç¼–è¯‘ç¯å¢ƒ</a></li><li class="dropdown-item"><!----> <a href="/fftw/" class="nav-link">02.åŸºç¡€åº“</a></li><li class="dropdown-item"><!----> <a href="/alamode/" class="nav-link">03.åº”ç”¨è½¯ä»¶</a></li><li class="dropdown-item"><!----> <a href="/collectl/" class="nav-link">04.å·¥å…·è½¯ä»¶</a></li><li class="dropdown-item"><!----> <a href="/co-array-fortran/" class="nav-link">05.å¸¸ç”¨è¯­è¨€ç¯å¢ƒ</a></li><li class="dropdown-item"><!----> <a href="/how-to-add-a-new-potential-function-form-to-lammps/" class="nav-link">06.ä½¿ç”¨è¿›é˜¶</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è¯¾ç¨‹ä¸­å¿ƒ" class="dropdown-title"><a href="/supercomputer-courses/" class="link-title">è¯¾ç¨‹ä¸­å¿ƒ</a> <span class="title" style="display:none;">è¯¾ç¨‹ä¸­å¿ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å…¥é—¨è¯¾ç¨‹</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/supercomputer-courses/history-40-years/" class="nav-link">01.è¶…ç®—å†å²</a></li><li class="dropdown-subitem"><a href="/supercomputer-courses/vpn/" class="nav-link">02.VPNç™»å½•</a></li><li class="dropdown-subitem"><a href="/supercomputer-courses/ssh-sftp-mobaxterm/" class="nav-link">03.Mobaxtermå·¥å…·</a></li><li class="dropdown-subitem"><a href="/supercomputer-courses/linux-basic-commands/" class="nav-link">04.LinuxåŸºæœ¬å‘½ä»¤</a></li><li class="dropdown-subitem"><a href="/supercomputer-courses/module/" class="nav-link">05.Moduleç¯å¢ƒå˜é‡ç®¡ç†å·¥å…·</a></li><li class="dropdown-subitem"><a href="/supercomputer-courses/vim/" class="nav-link">06.Vimæ–‡æœ¬ç¼–è¾‘å™¨ä½¿ç”¨</a></li><li class="dropdown-subitem"><a href="/supercomputer-courses/slurm/" class="nav-link">07.Slurmä½œä¸šç®¡ç†ç³»ç»Ÿ</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¸¸è§é—®é¢˜" class="dropdown-title"><a href="/faqs/" class="link-title">å¸¸è§é—®é¢˜</a> <span class="title" style="display:none;">å¸¸è§é—®é¢˜</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/faqs/login-summary/" class="nav-link">01.ç™»å½•é—®é¢˜</a></li><li class="dropdown-item"><!----> <a href="/faqs/compile-summary/" class="nav-link">02.ç¼–è¯‘é—®é¢˜</a></li><li class="dropdown-item"><!----> <a href="/faqs/job-summary/" class="nav-link">03.ä½œä¸šé—®é¢˜</a></li><li class="dropdown-item"><!----> <a href="/faqs/storage-data-summary/" class="nav-link">04.å­˜å‚¨å’Œæ•°æ®é—®é¢˜</a></li><li class="dropdown-item"><!----> <a href="/faqs/gpu-summary/" class="nav-link">05.GPUé—®é¢˜</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">ğŸ’–è”ç³»</a></div><div class="nav-item"><a href="/trial/" class="nav-link">ğŸš€è¯•ç”¨</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">æ–‡ç« åˆ—è¡¨</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç”¨æˆ·æ‰‹å†Œ" class="dropdown-title"><!----> <span class="title" style="display:;">ç”¨æˆ·æ‰‹å†Œ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/user-manual/th1a/" class="nav-link">å¤©æ²³ä¸€å·</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è½¯ä»¶ä¸­å¿ƒ" class="dropdown-title"><a href="/software/" class="link-title">è½¯ä»¶ä¸­å¿ƒ</a> <span class="title" style="display:none;">è½¯ä»¶ä¸­å¿ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/the-most-basic-introduction-to-compilation/" class="nav-link">01.ç¼–è¯‘ç¯å¢ƒ</a></li><li class="dropdown-item"><!----> <a href="/fftw/" class="nav-link">02.åŸºç¡€åº“</a></li><li class="dropdown-item"><!----> <a href="/alamode/" class="nav-link">03.åº”ç”¨è½¯ä»¶</a></li><li class="dropdown-item"><!----> <a href="/collectl/" class="nav-link">04.å·¥å…·è½¯ä»¶</a></li><li class="dropdown-item"><!----> <a href="/co-array-fortran/" class="nav-link">05.å¸¸ç”¨è¯­è¨€ç¯å¢ƒ</a></li><li class="dropdown-item"><!----> <a href="/how-to-add-a-new-potential-function-form-to-lammps/" class="nav-link">06.ä½¿ç”¨è¿›é˜¶</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è¯¾ç¨‹ä¸­å¿ƒ" class="dropdown-title"><a href="/supercomputer-courses/" class="link-title">è¯¾ç¨‹ä¸­å¿ƒ</a> <span class="title" style="display:none;">è¯¾ç¨‹ä¸­å¿ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å…¥é—¨è¯¾ç¨‹</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/supercomputer-courses/history-40-years/" class="nav-link">01.è¶…ç®—å†å²</a></li><li class="dropdown-subitem"><a href="/supercomputer-courses/vpn/" class="nav-link">02.VPNç™»å½•</a></li><li class="dropdown-subitem"><a href="/supercomputer-courses/ssh-sftp-mobaxterm/" class="nav-link">03.Mobaxtermå·¥å…·</a></li><li class="dropdown-subitem"><a href="/supercomputer-courses/linux-basic-commands/" class="nav-link">04.LinuxåŸºæœ¬å‘½ä»¤</a></li><li class="dropdown-subitem"><a href="/supercomputer-courses/module/" class="nav-link">05.Moduleç¯å¢ƒå˜é‡ç®¡ç†å·¥å…·</a></li><li class="dropdown-subitem"><a href="/supercomputer-courses/vim/" class="nav-link">06.Vimæ–‡æœ¬ç¼–è¾‘å™¨ä½¿ç”¨</a></li><li class="dropdown-subitem"><a href="/supercomputer-courses/slurm/" class="nav-link">07.Slurmä½œä¸šç®¡ç†ç³»ç»Ÿ</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¸¸è§é—®é¢˜" class="dropdown-title"><a href="/faqs/" class="link-title">å¸¸è§é—®é¢˜</a> <span class="title" style="display:none;">å¸¸è§é—®é¢˜</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/faqs/login-summary/" class="nav-link">01.ç™»å½•é—®é¢˜</a></li><li class="dropdown-item"><!----> <a href="/faqs/compile-summary/" class="nav-link">02.ç¼–è¯‘é—®é¢˜</a></li><li class="dropdown-item"><!----> <a href="/faqs/job-summary/" class="nav-link">03.ä½œä¸šé—®é¢˜</a></li><li class="dropdown-item"><!----> <a href="/faqs/storage-data-summary/" class="nav-link">04.å­˜å‚¨å’Œæ•°æ®é—®é¢˜</a></li><li class="dropdown-item"><!----> <a href="/faqs/gpu-summary/" class="nav-link">05.GPUé—®é¢˜</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">ğŸ’–è”ç³»</a></div><div class="nav-item"><a href="/trial/" class="nav-link">ğŸš€è¯•ç”¨</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">æ–‡ç« åˆ—è¡¨</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ç¼–è¯‘ç¯å¢ƒ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/the-most-basic-introduction-to-compilation/" class="sidebar-link">ç¼–è¯‘ç¨‹åºçš„å››ä¸ªè¿‡ç¨‹ç®€ä»‹</a></li><li><a href="/gcc/" class="sidebar-link">gccç¼–è¯‘å®‰è£…æ•™ç¨‹</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>åŸºç¡€åº“</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fftw/" class="sidebar-link">fftw ç¼–è¯‘å®‰è£…æ•™ç¨‹</a></li><li><a href="/petsc/" aria-current="page" class="active sidebar-link">PETSc ç¼–è¯‘å®‰è£…æ•™ç¨‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/petsc/#ä»€ä¹ˆæ˜¯petsc" class="sidebar-link">ä»€ä¹ˆæ˜¯PETSc</a></li><li class="sidebar-sub-header"><a href="/petsc/#å®‰è£…æœ€åŸºç¡€ç¯å¢ƒ" class="sidebar-link">å®‰è£…æœ€åŸºç¡€ç¯å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/petsc/#å®‰è£…æ‰©å±•åŒ…" class="sidebar-link">å®‰è£…æ‰©å±•åŒ…</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/petsc/#å¯»æ‰¾åŒ…å" class="sidebar-link">å¯»æ‰¾åŒ…å</a></li><li class="sidebar-sub-header"><a href="/petsc/#å®‰è£…æ‰©å±•åŒ…-2" class="sidebar-link">å®‰è£…æ‰©å±•åŒ…</a></li></ul></li><li class="sidebar-sub-header"><a href="/petsc/#æµ‹è¯•" class="sidebar-link">æµ‹è¯•</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>åº”ç”¨è½¯ä»¶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/alamode/" class="sidebar-link">alamode ç¼–è¯‘å®‰è£…æ•™ç¨‹</a></li><li><a href="/angsd/" class="sidebar-link">ANGSD ç¼–è¯‘å®‰è£…æ•™ç¨‹</a></li><li><a href="/software/beast/" class="sidebar-link">BEASTå®‰è£…ä½¿ç”¨æ•™ç¨‹</a></li><li><a href="/berkeleygw/" class="sidebar-link">BerkeleyGW-2.1 å®‰è£…æ•™ç¨‹</a></li><li><a href="/comsol/" class="sidebar-link">COMSOLå®‰è£…æ•™ç¨‹</a></li><li><a href="/cp2k/" class="sidebar-link">CP2Kç¼–è¯‘å®‰è£…æ•™ç¨‹</a></li><li><a href="/gromacs/" class="sidebar-link">gromacsç¼–è¯‘å®‰è£…æ•™ç¨‹</a></li><li><a href="/jfeff/" class="sidebar-link">jfeffå®‰è£…è¯´æ˜</a></li><li><a href="/lammps/" class="sidebar-link">LAMMPSç¼–è¯‘å®‰è£…æ•™ç¨‹</a></li><li><a href="/mitgcm/" class="sidebar-link">MIgcmç¼–è¯‘å®‰è£…æ•™ç¨‹</a></li><li><a href="/molpro/" class="sidebar-link">MOLPROå®‰è£…ä½¿ç”¨è¯´æ˜</a></li><li><a href="/nciplot/" class="sidebar-link">nciplotå®‰è£…è¯´æ˜</a></li><li><a href="/ovito/" class="sidebar-link">ovitoå®‰è£…è¯´æ˜(windows+linux)</a></li><li><a href="/swash/" class="sidebar-link">swashç¼–è¯‘å®‰è£…æ•™ç¨‹</a></li><li><a href="/uv-cdat/" class="sidebar-link">UV-CDAT å®‰è£…æ•™ç¨‹</a></li><li><a href="/vasp/" class="sidebar-link">VASPç¼–è¯‘å®‰è£…æ•™ç¨‹</a></li><li><a href="/wrf/" class="sidebar-link">å¦‚ä½•ä½¿ç”¨WRF</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å·¥å…·è½¯ä»¶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/citrix/" class="sidebar-link">citrix å®‰è£…è®°å½•åŠæŠ¥é”™è®°å½•</a></li><li><a href="/tacc-launcher/" class="sidebar-link">å¦‚ä½•ä½¿ç”¨TACC launcheræ¥æ‰¹é‡æäº¤ä¸²è¡Œä»»åŠ¡</a></li><li><a href="/slurm/" class="sidebar-link">slurmä½œä¸šç®¡ç†ç³»ç»Ÿæ€ä¹ˆç”¨ï¼Ÿ</a></li><li><a href="/collectl/" class="sidebar-link">Collectlåœ¨å¤©æ²³ç³»ç»Ÿä¸Šçš„ä½¿ç”¨</a></li><li><a href="/winscp/" class="sidebar-link">WinSCPè½¯ä»¶ä½¿ç”¨ç®€ä»‹ï¼ˆæ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼‰</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å¸¸ç”¨è¯­è¨€ç¯å¢ƒ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/co-array-fortran/" class="sidebar-link">Co-Array Fortran ä½¿ç”¨è¯´æ˜</a></li><li><a href="/anaconda/" class="sidebar-link">Anaconda å®‰è£…æ•™ç¨‹</a></li><li><a href="/python-package-install-with-pip/" class="sidebar-link">pythonæ‰©å±•åŒ…çš„å®‰è£…æ–¹æ³•ï¼ˆpipï¼‰</a></li><li><a href="/python-package-install/" class="sidebar-link">pythonæ‰©å±•åŒ…çš„å®‰è£…æ–¹æ³•</a></li><li><a href="/python-package-install-with-conda/" class="sidebar-link">pythonæ‰©å±•åŒ…çš„å®‰è£…æ–¹æ³• --- condaæœ¬åœ°æºä½¿ç”¨è¯´æ˜</a></li><li><a href="/r/" class="sidebar-link">Rç¼–è¯‘å®‰è£…æ•™ç¨‹</a></li><li><a href="/r-package-install/" class="sidebar-link">Rè¯­è¨€åŒ…çš„å®‰è£…æ•™ç¨‹</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ä½¿ç”¨è¿›é˜¶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/how-to-add-a-new-potential-function-form-to-lammps/" class="sidebar-link">å¦‚ä½•åœ¨lammpsé‡ŒåŠ å…¥æ–°çš„åŠ¿å‡½æ•°å½¢å¼?</a></li><li><a href="/ms-task-submit-script/" class="sidebar-link">Materials Studio ä»»åŠ¡æäº¤è„šæœ¬è¯¦è§£</a></li><li><a href="/how-to-compile-namd-on-arm-platform/" class="sidebar-link">å¦‚ä½•åœ¨ARMå¹³å°ç¼–è¯‘NAMD</a></li><li><a href="/vasp-fixed-cell-direction-no-optimize/" class="sidebar-link">VASP å›ºå®šæ™¶èƒæ–¹å‘ä¸ä¼˜åŒ–</a></li><li><a href="/editor-enhancements-for-use-with-NCL-scripts/" class="sidebar-link">è®¾ç½®ç¼–è¾‘å™¨è¯­æ³•é«˜äº®æ”¯æŒNCL</a></li></ul></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- æ­£æ–¹å½¢ -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1cd794fe><div class="articleInfo" data-v-1cd794fe><ul class="breadcrumbs" data-v-1cd794fe><li data-v-1cd794fe><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-1cd794fe></a></li> <li data-v-1cd794fe><a href="/software" title="è½¯ä»¶ä¸­å¿ƒ-ç›®å½•é¡µ" data-v-1cd794fe>è½¯ä»¶ä¸­å¿ƒ</a></li> <li data-v-1cd794fe><a href="/software/#åŸºç¡€åº“" title="è½¯ä»¶ä¸­å¿ƒ#åŸºç¡€åº“" data-v-1cd794fe>åŸºç¡€åº“</a></li> <!----></ul> <div class="info" data-v-1cd794fe><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-1cd794fe><a href="https://github.com/mrzhenggang" target="_blank" title="ä½œè€…" class="beLink" data-v-1cd794fe>éƒ‘åˆš</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-1cd794fe><a href="javascript:;" data-v-1cd794fe>2017-10-10</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">
          PETSc ç¼–è¯‘å®‰è£…æ•™ç¨‹
        </h1>  <div class="theme-vdoing-content content__default"><h2 id="ä»€ä¹ˆæ˜¯petsc"><a href="#ä»€ä¹ˆæ˜¯petsc" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯PETSc</h2> <p>PETSc, pronounced PET-see (the S is silent), is a suite of data structures and routines for the scalable (parallel) solution of scientific applications modeled by partial differential equations. It supports MPI, and GPUs through CUDA or OpenCL, as well as hybrid MPI-GPU parallelism.</p> <p>è‹±æ–‡ç‰ˆå®‰è£…è¯´æ˜å¯å‚è€ƒå®˜ç½‘ï¼š
https://www.mcs.anl.gov/petsc/documentation/installation.html#exampleusage</p> <p>å› ä¸ºå®‰è£…PETScå¯ä»¥æœ‰å¾ˆå¤šå¾ˆå¤šæ‰©å±•åŒ…ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å…±äº«ç›®å½•ä¸‹åªå®‰è£…äº†åŸºç¡€çš„å‡ ä¸ªæ‰©å±•ï¼Œç”¨æˆ·æœ‰éœ€æ±‚çš„å¯ä»¥è‡ªè¡Œä¸‹è½½å®‰è£…è‡ªå·±éœ€è¦çš„æ‰©å±•åŒ…ã€‚ä¸‹é¢å…ˆä»‹ç»å®‰è£…æœ€åŸºç¡€çš„åŒ…ï¼Œç„¶åè¯´æ˜å¦‚ä½•å®‰è£…æ‰©å±•åŒ…ã€‚</p> <h2 id="å®‰è£…æœ€åŸºç¡€ç¯å¢ƒ"><a href="#å®‰è£…æœ€åŸºç¡€ç¯å¢ƒ" class="header-anchor">#</a> å®‰è£…æœ€åŸºç¡€ç¯å¢ƒ</h2> <p>æœ€åŸºç¡€çš„ç¼–è¯‘ç¯å¢ƒåŒ…æ‹¬ï¼š</p> <ul><li>ç¼–è¯‘å™¨ Intel Compiler æˆ– GNU Compiler</li> <li>MPIç¼–è¯‘å™¨ï¼šå¦‚mpichç­‰</li> <li>BLAS/LAPACKåº“ï¼šå¦‚ä½¿ç”¨netlibçš„lapackï¼Œæˆ–è€…fblaslapackï¼Œæˆ–è€…Intelçš„MKLåº“</li></ul> <p>ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># ä¸‹è½½ä¸€ä¸ªpetscçš„åŒ…ï¼Œå¦‚æ— ç‰¹æ®Šéœ€æ±‚ï¼Œå¯ä»¥ä¸‹è½½liteç‰ˆï¼Œå°ä¸€ç‚¹
# ä¸‹è½½åœ°å€ï¼šhttps://www.mcs.anl.gov/petsc/download/index.html

cd ~ # è¿›å…¥ç”¨æˆ·æ ¹ç›®å½•
tar zxvf petsc-lite-3.14.1.tar.gz
cd petsc-lite-3.14.1

# åŠ è½½ç¼–è¯‘ç¯å¢ƒï¼ˆIntel Compiler + MPIåº“ï¼‰
module add Intel_compiler/13.0
module add MPI/mpich/intel2013
module add mkl/13.0.0
module add cmake/3.14.4

# configure
./configure prefix=$HOME/software/petsc/3.14.1-icc13-mpich \
	--with-cc=mpicc --with-cxx=mpicxx --with-fc=mpif90 \
	--with-mpiexec=/usr/bin/yhrun \
	--with-blas-lapack-dir=$MKLROOT 

# make
make PETSC_DIR=$HOME/petsc-3.14.1 PETSC_ARCH=arch-linux2-c-debug

# make install
make PETSC_DIR=$HOME/petsc-3.14.1 PETSC_ARCH=arch-linux2-c-debug install 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">å»ºè®®</p> <ol><li>å®˜ç½‘ä»‹ç»æœ‰å¾ˆå¤šç§æƒ…å†µä¸‹çš„é…ç½®è¯´æ˜ï¼Œæ¨èé˜…è¯»</li> <li>é»˜è®¤æ˜¯debugç‰ˆæœ¬ï¼Œå¦‚æœå¸Œæœ›è·å¾—optç‰ˆæœ¬ï¼Œè¯·æ·»åŠ configureçš„å‚æ•° <code>--with-debugging=0</code></li></ol></div> <h2 id="å®‰è£…æ‰©å±•åŒ…"><a href="#å®‰è£…æ‰©å±•åŒ…" class="header-anchor">#</a> å®‰è£…æ‰©å±•åŒ…</h2> <p>PETScæ·»åŠ æ‰©å±•çš„æ–¹å¼æœ‰2ä¸­ï¼š</p> <ol><li>é€šè¿‡ <code>--with-xx-dir</code> çš„æ–¹å¼æŒ‡å®šå·²ç»å®‰è£…è¿‡çš„ç›®å½•</li> <li>é€šè¿‡ <code>--download-xx</code> çš„æ–¹å¼è‡ªåŠ¨ä¸‹è½½åŒ…å¹¶ç¼–è¯‘å®‰è£…ï¼ˆéœ€è¦è”ç½‘ï¼‰</li> <li>é€šè¿‡ <code>--download-xx=/path/to/package.tar.gz</code> æŒ‡å®šå®‰è£…åŒ…çš„è·¯å¾„ï¼Œæ‰©å±•åŒ…å¯ä»¥å»https://ftp.mcs.anl.gov/pub/petsc/externalpackages/ä¸‹è½½</li></ol> <p>æˆ‘ä»¬åœ¨å¹³å°ä¸Šå·²ç»å°†<code>https://ftp.mcs.anl.gov/pub/petsc/externalpackages/</code>ç½‘å€ä¸‹çš„åŒ…ä¸‹è½½åˆ°çš„ç³»ç»Ÿç›®å½•ï¼ˆå®šæœŸä¼šæ›´æ–°ï¼‰ï¼Œ<code>TH-1A</code>é›†ç¾¤ç”¨æˆ·çš„ç›®å½•ä¸º<code>/vol-th/software/petsc/externalpackages</code>ï¼Œç”¨æˆ·å¯ä»¥è‡ªè¡ŒæŒ‡å®šè¯¥ç›®å½•ã€‚</p> <p>æˆ‘ä»¬å°è¯•å®‰è£…å‡ ä¸ªæ‰©å±•åŒ…å§ï¼Œæ¯”å¦‚ï¼š</p> <ul><li>fblaslapack</li> <li>fftw</li> <li>hdf5</li> <li>netcdf</li> <li>metis</li></ul> <h3 id="å¯»æ‰¾åŒ…å"><a href="#å¯»æ‰¾åŒ…å" class="header-anchor">#</a> å¯»æ‰¾åŒ…å</h3> <p>å¯»æ‰¾åŒ…åæœ‰2ä¸ªæ–¹å¼ï¼š</p> <p>ç®€å•çš„æ–¹å¼ï¼Œå‰å¾€ç³»ç»Ÿç›®å½•æ‰¾ä¸€ä¸ªæ¯”è¾ƒæ–°çš„ã€‚ä¾‹å¦‚<code>fftw</code>ï¼Œæˆ‘ä»¬å‰å¾€<code>/vol-th/software/petsc/externalpackages</code> ç›®å½•ï¼Œä½¿ç”¨å¦‚<code>ls | grep fftw</code>å‘½ä»¤ï¼Œæ‰¾åˆ°åŒ…ï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>fftw-3.1.1.tar.gz
fftw-3.1.2.tar.gz
fftw-3.2alpha2.tar.gz
fftw-3.2alpha3.tar.gz
fftw-3.3.2.tar.gz
fftw-3.3.3.tar.gz
fftw-3.3.7.tar.gz
fftw-3.3.8.tar.gz
fftw-3.3alpha1.tar.gz
fftw-3.3-beta1.tar.gz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>æˆ‘ä»¬å¯ä»¥é€‰ç”¨å¦‚æœ€æ–°çš„<code>fftw-3.3.8.tar.gz</code>åŒ…ã€‚</p> <p>å…¶ä»–çš„åŒ…ï¼š</p> <ul><li>fblaslapack : fblaslapack-3.4.2.tar.gz</li> <li>hdf5 : hdf5-1.12.0.tar.bz2</li> <li>netcdf : netcdf-4.5.0.tar.gz</li> <li>metis : metis-5.1.0-p3.tar.gz</li></ul> <p>ç¬¬äºŒç§ï¼Œå¯ä»¥åœ¨petscæºç åŒ…çš„ç›®å½•ï¼Œæ‰¾åˆ°è¯¥ç‰ˆæœ¬çš„å¯¹åº”çš„åº“ç‰ˆæœ¬ã€‚</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># è¿›å…¥ç”¨æˆ·æ ¹ç›®å½•</span>
<span class="token builtin class-name">cd</span> ~
<span class="token comment"># è§£å‹ç¼©</span>
<span class="token function">tar</span> zxvf petsc-lite-3.14.1.tar.gz
<span class="token comment"># è¿›å…¥å‹ç¼©åŒ…</span>
<span class="token builtin class-name">cd</span> petsc-lite-3.14.1
<span class="token comment"># è¿›å…¥æŒ‡å®šç›®å½•</span>
<span class="token builtin class-name">cd</span> config/BuildSystem/config/packages
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>è¿™ä¸ªç›®å½•ä¸‹æœ‰å„ä¸ªåŒ…çš„ä¸‹è½½æ–¹å¼å’Œç‰ˆæœ¬ï¼Œä¾‹å¦‚fftwåº“ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>ls</code>æŸ¥çœ‹å…¨éƒ¨æ–‡ä»¶ï¼Œå†æ‰¾åˆ°<code>fftw.py</code>æ–‡ä»¶ï¼Œæˆ–è€…ä½¿ç”¨<code>ls | grep fftw</code>æ‰¾åˆ°<code>fftw.py</code> æ–‡ä»¶ã€‚</p> <p>æˆ‘ä»¬æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼š<code>vim fftw.py</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">import</span> config.package

class Configure<span class="token punctuation">(</span>config.package.GNUPackage<span class="token punctuation">)</span>:
  def __init__<span class="token punctuation">(</span>self, framework<span class="token punctuation">)</span>:
    config.package.GNUPackage.__init__<span class="token punctuation">(</span>self, framework<span class="token punctuation">)</span>
    <span class="token comment"># host locally as fftw.org url can expire after new release.</span>
    self.download   <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'http://www.fftw.org/fftw-3.3.8.tar.gz'</span>,
                       <span class="token string">'http://ftp.mcs.anl.gov/pub/petsc/externalpackages/fftw-3.3.8.tar.gz'</span><span class="token punctuation">]</span>
    self.functions  <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'fftw_malloc'</span>,<span class="token string">'fftw_mpi_cleanup'</span><span class="token punctuation">]</span>
    self.includes   <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'fftw3-mpi.h'</span><span class="token punctuation">]</span>
    self.liblist    <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'libfftw3_mpi.a'</span>,<span class="token string">'libfftw3.a'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    self.pkgname    <span class="token operator">=</span> <span class="token string">'fftw3'</span>
    self.precisions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'double'</span><span class="token punctuation">]</span>
    <span class="token builtin class-name">return</span>
<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>å¯ä»¥çœ‹åˆ°è¿™ä¸ªç‰ˆæœ¬çš„petscåº“è‡ªåŠ¨å…³è”çš„fftwåº“<code>fftw-3.3.8.tar.gz</code>ï¼Œæˆ‘ä»¬å‰å¾€<code>/vol-th/software/petsc/externalpackages</code>ï¼Œå¯»æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶å³å¯ã€‚</p> <p>å…¶ä»–çš„åŒ…ï¼š</p> <ul><li>fblaslapack : fblaslapack-v3.4.2-p3.tar.gz</li> <li>hdf5 : hdf5-1.12.0.tar.bz2</li> <li>netcdf : netcdf-4.5.0.tar.gz</li> <li>metis : metis-5.1.0-p3.tar.gz</li></ul> <div class="custom-block warning"><p class="custom-block-title">æ³¨æ„</p> <p>å¦‚æœåœ¨/vol-th/software/petsc/externalpackagesç›®å½•æ²¡æœ‰æ‰¾åˆ°ä½ å¸Œæœ›çš„åŒ…ï¼Œé‚£ä¹ˆå¯ä»¥æ ¹æ®å¯¹åº”çš„pyæ–‡ä»¶çš„è·¯å¾„ï¼Œè‡ªè¡Œä¸‹è½½å‹ç¼©åŒ…ï¼Œä¼ åˆ°è‡ªå·±è´¦å·ç›®å½•ä¸‹ï¼Œå¹¶åœ¨æ¥ä¸‹æ¥çš„è·¯å¾„è®¾ç½®æ—¶ï¼Œé…ç½®ä¸ºè‡ªå·±çš„è·¯å¾„</p></div> <h3 id="å®‰è£…æ‰©å±•åŒ…-2"><a href="#å®‰è£…æ‰©å±•åŒ…-2" class="header-anchor">#</a> å®‰è£…æ‰©å±•åŒ…</h3> <p>æ³¨æ„ç»™å‡ºæ‰©å±•åŒ…çš„è·¯å¾„å³å¯</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># è¿›å…¥ç”¨æˆ·æ ¹ç›®å½•</span>
<span class="token builtin class-name">cd</span> ~ 
<span class="token comment"># å¦‚æœä¹‹å‰æ²¡æœ‰è§£å‹ç¼©è¿‡</span>
<span class="token function">tar</span> zxvf petsc-lite-3.14.1.tar.gz
<span class="token builtin class-name">cd</span> petsc-lite-3.14.1

<span class="token comment"># åŠ è½½ç¼–è¯‘ç¯å¢ƒï¼ˆGNU Compiler + MPIåº“ï¼‰</span>
module <span class="token function">add</span> GCC/4.9.4
module <span class="token function">add</span> MPI/mpich/gcc4.9.4
module <span class="token function">add</span> cmake/3.14.4

<span class="token comment"># configure</span>
./configure <span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token environment constant">$HOME</span>/software/petsc/3.14.1-gcc49-mpich <span class="token punctuation">\</span>
	--with-cc<span class="token operator">=</span>mpicc --with-cxx<span class="token operator">=</span>mpicxx --with-fc<span class="token operator">=</span>mpif90 <span class="token punctuation">\</span>
	--with-mpiexec<span class="token operator">=</span>/usr/bin/yhrun <span class="token punctuation">\</span>
	--download-fblaslapack<span class="token operator">=</span>/vol-th/software/petsc/externalpackages/fblaslapack-3.4.2.tar.gz <span class="token punctuation">\</span>
	--download-fftw<span class="token operator">=</span>/vol-th/software/petsc/externalpackages/fftw-3.3.8.tar.gz <span class="token punctuation">\</span>
	--download-hdf5<span class="token operator">=</span>/vol-th/software/petsc/externalpackages/hdf5-1.12.0.tar.bz2 <span class="token punctuation">\</span>
	--download-netcdf<span class="token operator">=</span>/vol-th/software/petsc/externalpackages/netcdf-4.5.0.tar.gz <span class="token punctuation">\</span>
	--download-metis<span class="token operator">=</span>/vol-th/software/petsc/externalpackages/metis-5.1.0-p3.tar.gz <span class="token punctuation">\</span>
	--with-debugging<span class="token operator">=</span><span class="token number">0</span> <span class="token punctuation">\</span>
	<span class="token assign-left variable">COPTFLAGS</span><span class="token operator">=</span><span class="token string">&quot;-O3&quot;</span> <span class="token punctuation">\</span>
	<span class="token assign-left variable">CXXOPTFLAGS</span><span class="token operator">=</span><span class="token string">&quot;-O3&quot;</span> <span class="token punctuation">\</span>
	<span class="token assign-left variable">FOPTFLAGS</span><span class="token operator">=</span><span class="token string">&quot;-O3&quot;</span>

<span class="token comment"># make</span>
<span class="token function">make</span> <span class="token assign-left variable">PETSC_DIR</span><span class="token operator">=</span><span class="token environment constant">$HOME</span>/petsc-3.14.1 <span class="token assign-left variable">PETSC_ARCH</span><span class="token operator">=</span>arch-linux2-c-opt

<span class="token comment"># make install</span>
<span class="token function">make</span> <span class="token assign-left variable">PETSC_DIR</span><span class="token operator">=</span><span class="token environment constant">$HOME</span>/petsc-3.14.1 <span class="token assign-left variable">PETSC_ARCH</span><span class="token operator">=</span>arch-linux2-c-opt <span class="token function">install</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">å»ºè®®</p> <p>ä¼˜å…ˆæ¨èä½¿ç”¨Intel Compiler + ç³»ç»Ÿè‡ªå¸¦MPI + MKLåº“ï¼Œè¿™æ ·é€Ÿåº¦å¿«å¼ºçƒˆä¸å»ºè®®é€šè¿‡PETScè‡ªè¡Œç¼–è¯‘mpiï¼Œå› ä¸ºä½¿ç”¨ç³»ç»Ÿçš„MPIé€Ÿåº¦å¿«</p></div> <h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="header-anchor">#</a> æµ‹è¯•</h2> <p>é…ç½®ç¯å¢ƒï¼ˆä»¥åˆšåˆšä½¿ç”¨gcc4.9.4ç¼–è¯‘çš„ä¸ºä¾‹ï¼‰</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>module <span class="token function">add</span> GCC/4.9.4
module <span class="token function">add</span> MPI/mpich/gcc4.9.4
<span class="token builtin class-name">export</span> <span class="token assign-left variable">PETSC_DIR</span><span class="token operator">=</span><span class="token environment constant">$HOME</span>/petsc-3.14.1 
<span class="token builtin class-name">export</span> <span class="token assign-left variable">PETSC_ARCH</span><span class="token operator">=</span>arch-linux2-c-opt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>è¿›å…¥ç®—ä¾‹ç›®å½•ç¼–è¯‘å¹¶è¿è¡Œ</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/petsc-3.14.1/src/ksp/ksp/examples/tutorials

<span class="token comment"># ç¼–è¯‘</span>
<span class="token function">make</span> ex50

<span class="token comment"># è¿è¡Œ</span>
./ex50  -da_grid_x <span class="token number">4</span> -da_grid_y <span class="token number">4</span> -mat_view
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div></div> <div class="page-slot page-slot-bottom"><!-- æ¨ªå‘è‡ªé€‚åº” -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2021/06/12, 12:28:34</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/fftw/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">fftw ç¼–è¯‘å®‰è£…æ•™ç¨‹</div></a> <a href="/alamode/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">alamode ç¼–è¯‘å®‰è£…æ•™ç¨‹</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/fftw/" class="prev">fftw ç¼–è¯‘å®‰è£…æ•™ç¨‹</a></span> <span class="next"><a href="/alamode/">alamode ç¼–è¯‘å®‰è£…æ•™ç¨‹</a>â†’
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:mrzhenggang@nscc-tj.cn" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/mrzhenggang" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=153349579" title="å¬éŸ³ä¹" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2015-2021
    <span>Zheng Gang | <a href="https://github.com/mrzhenggang/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a> | <a href="http://www.beian.gov.cn/">æ´¥ICPå¤‡17007036å·-1</a></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><i class="close-but">Ã—</i> <div><!-- å›ºå®š160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;width:160px;height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.add2f138.js" defer></script><script src="/assets/js/2.050df857.js" defer></script><script src="/assets/js/27.f24b3b99.js" defer></script>
  </body>
</html>